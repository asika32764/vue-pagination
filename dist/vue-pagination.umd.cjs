(function(e,o){typeof exports=="object"&&typeof module<"u"?module.exports=o(require("vue")):typeof define=="function"&&define.amd?define(["vue"],o):(e=typeof globalThis<"u"?globalThis:e||self,e.VuePagination=o(e.Vue))})(this,function(e){"use strict";var o=(n=>(n.FIRST="first",n.PREVIOUS="previous",n.LOWER="lower",n.CURRENT="current",n.HIGHER="higher",n.NEXT="next",n.LAST="last",n))(o||{});return e.defineComponent({__name:"VuePagination",props:e.mergeModels({total:{},perPage:{},maxItems:{default:5},linkTag:{default:"a"},itemClass:{},linkClass:{},activeClass:{},disabledClass:{},route:{type:[Function,Boolean]}},{modelValue:{default:1},modelModifiers:{}}),emits:e.mergeModels(["page-click","pages-updated"],["update:modelValue"]),setup(n,{emit:P}){const a=n,u=e.useModel(n,"modelValue"),R=P,f=e.computed(()=>Math.ceil(a.total/a.perPage)),c=e.ref(),p=e.ref(),g=e.ref([]),k=e.ref([]),m=e.ref(),C=e.ref(),E=e.ref(),I=e.computed(()=>[c.value,p.value,...g.value,E.value,...k.value,m.value,C.value].filter(t=>t!=null));e.watch([u,()=>a.total,()=>a.perPage],t=>{h(),R("pages-updated",...t)}),h();function T(){c.value=void 0,p.value=void 0,m.value=void 0,C.value=void 0,E.value=void 0,g.value=[],k.value=[]}function h(){T();const t=u.value;let l=a.maxItems;l%2===0&&l++;const r=(l-1)/2,S=t-1;let V=Math.min(r,S);const L=f.value-t;let b=Math.min(r,L);t+r>f.value?V=l-b-1:t-r<=0&&(b=l-V-1);for(let d=t-V;d<t;d++)g.value.push(i(o.LOWER,d));p.value=i(o.PREVIOUS,t-1,{disabled:t===1}),c.value=i(o.FIRST,1,{disabled:t===1});for(let d=t+1;d<=b+t;d++)k.value.push(i(o.HIGHER,d));m.value=i(o.NEXT,t+1,{disabled:t===f.value}),C.value=i(o.LAST,f.value,{disabled:t===f.value}),E.value=i(o.CURRENT,t,{active:!0})}function i(t,l,r={}){return{type:t,page:l,active:r.active??!1,disabled:r.disabled??!1}}function s(t){return a.route?a.route===!0?{query:{page:t.page}}:a.route(t):"javascript:void(0)"}function y(t,l){a.route||(u.value=l.page,R("page-click",t,l))}function N(t){return a.linkTag==="a"?{href:s(t)}:a.linkTag==="button"?{disabled:t.disabled}:{to:s(t),disabled:t.disabled}}return(t,l)=>(e.openBlock(),e.createElementBlock("div",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(I.value,r=>e.renderSlot(t.$slots,"page-item",e.mergeProps({key:`${r.type}-${r.page}`,ref_for:!0},{item:r,to:s(r)}),()=>[e.createElementVNode("div",{class:e.normalizeClass(t.itemClass)},[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(t.linkTag),e.mergeProps({ref_for:!0},N(r),{onClick:S=>y(S,r),class:[t.linkClass,[r.active?t.activeClass:null,r.disabled?t.disabledClass:null]]}),{default:e.withCtx(()=>[r.type===e.unref(o).FIRST?e.renderSlot(t.$slots,"first-icon",e.mergeProps({key:0,ref_for:!0},{item:r,to:s(r)}),()=>[l[0]||(l[0]=e.createElementVNode("span",null,"First",-1))]):r.type===e.unref(o).PREVIOUS?e.renderSlot(t.$slots,"previous-icon",e.mergeProps({key:1,ref_for:!0},{item:r,to:s(r)}),()=>[l[1]||(l[1]=e.createElementVNode("span",{"aria-hidden":"true"},"«",-1))]):r.type===e.unref(o).NEXT?e.renderSlot(t.$slots,"next-icon",e.mergeProps({key:2,ref_for:!0},{item:r,to:s(r)}),()=>[l[2]||(l[2]=e.createElementVNode("span",{"aria-hidden":"true"},"»",-1))]):r.type===e.unref(o).LAST?e.renderSlot(t.$slots,"last-icon",e.mergeProps({key:3,ref_for:!0},{item:r,to:s(r)}),()=>[l[3]||(l[3]=e.createElementVNode("span",null,"Last",-1))]):e.renderSlot(t.$slots,"page",e.mergeProps({key:4,ref_for:!0},{item:r,to:s(r)}),()=>[e.createTextVNode(e.toDisplayString(r.page),1)])]),_:2},1040,["onClick","class"]))],2)])),128))]))}})});
