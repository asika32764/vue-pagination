(function(e,r){typeof exports=="object"&&typeof module<"u"?module.exports=r(require("vue")):typeof define=="function"&&define.amd?define(["vue"],r):(e=typeof globalThis<"u"?globalThis:e||self,e.VuePagination=r(e.Vue))})(this,function(e){"use strict";var r=(n=>(n.FIRST="first",n.PREVIOUS="previous",n.LOWER="lower",n.CURRENT="current",n.HIGHER="higher",n.NEXT="next",n.LAST="last",n))(r||{});function V(n={}){const E=e.toRef(n.total??0),o=e.toRef(n.perPage??0),f=e.toRef(n.currentPage??1),d=e.computed(()=>Math.ceil(E.value/o.value)),R=e.toRef(n.maxItems??5),i=e.ref(),m=e.ref(),k=e.ref([]),t=e.ref([]),s=e.ref(),l=e.ref(),C=e.ref(),y=e.computed(()=>[i.value,m.value,...k.value,C.value,...t.value,s.value,l.value].filter(a=>a!=null)),h=()=>{T(),f.value>d.value&&!e.isReadonly(f)&&(f.value=d.value);const a=f.value;let c=R.value;c%2===0&&c++;const p=(c-1)/2,I=a-1;let P=Math.min(p,I);const S=d.value-a;let b=Math.min(p,S);a+p>d.value?P=Math.min(c-b-1,I):a-p<=0&&(b=Math.min(c-P-1,S));for(let g=a-P;g<a;g++)k.value.push(u(r.LOWER,g));m.value=u(r.PREVIOUS,a-1,{disabled:a===1}),i.value=u(r.FIRST,1,{disabled:a===1});for(let g=a+1;g<=b+a;g++)t.value.push(u(r.HIGHER,g));s.value=u(r.NEXT,a+1,{disabled:a===d.value}),l.value=u(r.LAST,d.value,{disabled:a===d.value}),C.value=u(r.CURRENT,a,{active:!0})};function u(a,c,p={}){return{type:a,page:c,active:p.active??!1,disabled:p.disabled??!1}}function T(){i.value=void 0,m.value=void 0,s.value=void 0,l.value=void 0,C.value=void 0,k.value=[],t.value=[]}return e.watchEffect(()=>{h()}),{compile:h,total:E,perPage:o,currentPage:f,pages:y,pagesCount:d,maxItems:R}}return e.defineComponent({__name:"VuePagination",props:e.mergeModels({total:{},perPage:{},maxItems:{default:5},linkTag:{default:"a"},itemClass:{},linkClass:{},activeClass:{},disabledClass:{},route:{type:[Function,Boolean]}},{modelValue:{default:1},modelModifiers:{}}),emits:e.mergeModels(["page-click","pages-updated"],["update:modelValue"]),setup(n,{emit:E}){const o=n,f=e.useModel(n,"modelValue"),d=E;e.watch([f,()=>o.total,()=>o.perPage,()=>o.maxItems],t=>{d("pages-updated",...t)});const{pages:R}=V({total:()=>o.total,perPage:()=>o.perPage,currentPage:f,maxItems:()=>o.maxItems});function i(t){return o.route?o.route===!0?{query:{page:t.page}}:o.route(t):"javascript:void(0)"}function m(t,s){o.route||(f.value=s.page,d("page-click",t,s))}function k(t){return o.linkTag==="a"?{href:i(t)}:o.linkTag==="button"?{disabled:t.disabled}:{to:i(t),disabled:t.disabled}}return(t,s)=>(e.openBlock(),e.createElementBlock("div",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(R),l=>e.renderSlot(t.$slots,"page-item",e.mergeProps({key:`${l.type}-${l.page}`,ref_for:!0},{item:l,to:i(l)}),()=>[e.createElementVNode("div",{class:e.normalizeClass([l.active?t.activeClass:null,l.disabled?t.disabledClass:null,t.itemClass])},[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(t.linkTag),e.mergeProps({ref_for:!0},k(l),{onClick:C=>m(C,l),class:[l.active?t.activeClass:null,l.disabled?t.disabledClass:null,t.linkClass]}),{default:e.withCtx(()=>[l.type===e.unref(r).FIRST?e.renderSlot(t.$slots,"first-icon",e.mergeProps({key:0,ref_for:!0},{item:l,to:i(l)}),()=>[s[0]||(s[0]=e.createElementVNode("span",null,"First",-1))]):l.type===e.unref(r).PREVIOUS?e.renderSlot(t.$slots,"previous-icon",e.mergeProps({key:1,ref_for:!0},{item:l,to:i(l)}),()=>[s[1]||(s[1]=e.createElementVNode("span",{"aria-hidden":"true"},"«",-1))]):l.type===e.unref(r).NEXT?e.renderSlot(t.$slots,"next-icon",e.mergeProps({key:2,ref_for:!0},{item:l,to:i(l)}),()=>[s[2]||(s[2]=e.createElementVNode("span",{"aria-hidden":"true"},"»",-1))]):l.type===e.unref(r).LAST?e.renderSlot(t.$slots,"last-icon",e.mergeProps({key:3,ref_for:!0},{item:l,to:i(l)}),()=>[s[3]||(s[3]=e.createElementVNode("span",null,"Last",-1))]):e.renderSlot(t.$slots,"page",e.mergeProps({key:4,ref_for:!0},{item:l,to:i(l)}),()=>[e.createTextVNode(e.toDisplayString(l.page),1)])]),_:2},1040,["onClick","class"]))],2)])),128))]))}})});
