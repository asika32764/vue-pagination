(function(u,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],e):(u=typeof globalThis<"u"?globalThis:u||self,e(u.VuePagination={},u.Vue))})(this,function(u,e){"use strict";var s=(l=>(l.FIRST="first",l.PREVIOUS="previous",l.LOWER="lower",l.CURRENT="current",l.HIGHER="higher",l.NEXT="next",l.LAST="last",l))(s||{});function I(l={}){const h=E(l.total??0),n=E(l.perPage??0),f=E(l.currentPage??1),i=e.computed(()=>Math.ceil(h.value/n.value)),b=E(l.maxItems??5),d=e.ref(),k=e.ref(),C=e.ref([]),t=e.ref([]),o=e.ref(),a=e.ref(),P=e.ref(),N=e.computed(()=>[d.value,k.value,...C.value,P.value,...t.value,o.value,a.value].filter(r=>r!=null)),y=()=>{L(),f.value>i.value&&!e.isReadonly(f)&&(f.value=i.value||1);const r=f.value;let p=b.value;p%2===0&&p++;const g=(p-1)/2,V=r-1;let S=Math.min(g,V);const T=i.value-r;let R=Math.min(g,T);r+g>i.value?S=Math.min(p-R-1,V):r-g<=0&&(R=Math.min(p-S-1,T));for(let m=r-S;m<r;m++)C.value.push(c(s.LOWER,m));k.value=c(s.PREVIOUS,r-1,{disabled:r===1}),d.value=c(s.FIRST,1,{disabled:r===1});for(let m=r+1;m<=R+r;m++)t.value.push(c(s.HIGHER,m));o.value=c(s.NEXT,r+1,{disabled:r===i.value}),a.value=c(s.LAST,i.value,{disabled:r===i.value}),P.value=c(s.CURRENT,r,{active:!0})};function c(r,p,g={}){return{type:r,page:p,active:g.active??!1,disabled:g.disabled??!1}}function L(){d.value=void 0,k.value=void 0,o.value=void 0,a.value=void 0,P.value=void 0,C.value=[],t.value=[]}return e.watchEffect(()=>{y()}),{compile:y,total:h,perPage:n,currentPage:f,pages:N,pagesCount:i,maxItems:b}}function E(l){return typeof l=="function"&&(l=e.ref(l())),e.isRef(l)?l:e.ref(l)}const M=e.defineComponent({__name:"VuePagination",props:e.mergeModels({total:{},perPage:{},maxItems:{default:5},linkTag:{default:"a"},itemClass:{},linkClass:{},activeClass:{},disabledClass:{},route:{type:[Function,Boolean]}},{modelValue:{default:1},modelModifiers:{}}),emits:e.mergeModels(["page-click","pages-updated","page-changed"],["update:modelValue"]),setup(l,{emit:h}){const n=l,f=e.useModel(l,"modelValue"),i=h;e.watch([f,()=>n.total,()=>n.perPage,()=>n.maxItems],t=>{i("pages-updated",...t)}),e.watch(f,()=>{i("page-changed",f.value)});const{pages:b}=I({total:()=>n.total,perPage:()=>n.perPage,currentPage:f,maxItems:()=>n.maxItems});function d(t){return n.route?n.route===!0?{query:{page:t.page}}:n.route(t):"javascript:void(0)"}function k(t,o){n.route||(f.value=o.page),i("page-click",t,o)}function C(t){return n.linkTag==="a"?{href:d(t)}:n.linkTag==="button"?{disabled:t.disabled}:{to:d(t),disabled:t.disabled}}return(t,o)=>(e.openBlock(),e.createElementBlock("div",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(b),a=>e.renderSlot(t.$slots,"page-item",e.mergeProps({key:`${a.type}-${a.page}`,ref_for:!0},{item:a,to:d(a)}),()=>[e.createElementVNode("div",{class:e.normalizeClass([a.active?t.activeClass:null,a.disabled?t.disabledClass:null,t.itemClass])},[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(t.linkTag),e.mergeProps({ref_for:!0},C(a),{onClick:P=>k(P,a),class:[a.active?t.activeClass:null,a.disabled?t.disabledClass:null,t.linkClass]}),{default:e.withCtx(()=>[a.type===e.unref(s).FIRST?e.renderSlot(t.$slots,"first-icon",e.mergeProps({key:0,ref_for:!0},{item:a,to:d(a)}),()=>[o[0]||(o[0]=e.createElementVNode("span",null,"First",-1))]):a.type===e.unref(s).PREVIOUS?e.renderSlot(t.$slots,"previous-icon",e.mergeProps({key:1,ref_for:!0},{item:a,to:d(a)}),()=>[o[1]||(o[1]=e.createElementVNode("span",{"aria-hidden":"true"},"«",-1))]):a.type===e.unref(s).NEXT?e.renderSlot(t.$slots,"next-icon",e.mergeProps({key:2,ref_for:!0},{item:a,to:d(a)}),()=>[o[2]||(o[2]=e.createElementVNode("span",{"aria-hidden":"true"},"»",-1))]):a.type===e.unref(s).LAST?e.renderSlot(t.$slots,"last-icon",e.mergeProps({key:3,ref_for:!0},{item:a,to:d(a)}),()=>[o[3]||(o[3]=e.createElementVNode("span",null,"Last",-1))]):e.renderSlot(t.$slots,"page",e.mergeProps({key:4,ref_for:!0},{item:a,to:d(a)}),()=>[e.createTextVNode(e.toDisplayString(a.page),1)])]),_:2},1040,["onClick","class"]))],2)])),128))]))}});u.PageType=s,u.default=M,u.usePagination=I,Object.defineProperties(u,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
