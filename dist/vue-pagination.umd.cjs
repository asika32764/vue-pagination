(function(e,a){typeof exports=="object"&&typeof module<"u"?module.exports=a(require("vue")):typeof define=="function"&&define.amd?define(["vue"],a):(e=typeof globalThis<"u"?globalThis:e||self,e.VuePagination=a(e.Vue))})(this,function(e){"use strict";var a=(n=>(n.FIRST="first",n.PREVIOUS="previous",n.LOWER="lower",n.CURRENT="current",n.HIGHER="higher",n.NEXT="next",n.LAST="last",n))(a||{});function b(n={}){const E=e.toRef(n.total??0),o=e.toRef(n.perPage??0),f=e.toRef(n.currentPage??1),d=e.computed(()=>Math.ceil(E.value/o.value)),R=e.toRef(n.maxItems??5),i=e.ref(),m=e.ref(),k=e.ref([]),t=e.ref([]),s=e.ref(),r=e.ref(),C=e.ref(),y=e.computed(()=>[i.value,m.value,...k.value,C.value,...t.value,s.value,r.value].filter(l=>l!=null)),I=()=>{T(),f.value>d.value&&!e.isReadonly(f)&&(f.value=d.value);const l=f.value;let c=R.value;c%2===0&&c++;const p=(c-1)/2,S=l-1;let P=Math.min(p,S);const V=d.value-l;let h=Math.min(p,V);l+p>d.value?P=Math.min(c-h-1,S):l-p<=0&&(h=Math.min(c-P-1,V));for(let g=l-P;g<l;g++)k.value.push(u(a.LOWER,g));m.value=u(a.PREVIOUS,l-1,{disabled:l===1}),i.value=u(a.FIRST,1,{disabled:l===1});for(let g=l+1;g<=h+l;g++)t.value.push(u(a.HIGHER,g));s.value=u(a.NEXT,l+1,{disabled:l===d.value}),r.value=u(a.LAST,d.value,{disabled:l===d.value}),C.value=u(a.CURRENT,l,{active:!0})};function u(l,c,p={}){return{type:l,page:c,active:p.active??!1,disabled:p.disabled??!1}}function T(){i.value=void 0,m.value=void 0,s.value=void 0,r.value=void 0,C.value=void 0,k.value=[],t.value=[]}return e.watchEffect(()=>{I()}),{compile:I,total:E,perPage:o,currentPage:f,pages:y,pagesCount:d,maxItems:R}}return e.defineComponent({__name:"VuePagination",props:e.mergeModels({total:{},perPage:{},maxItems:{default:5},linkTag:{default:"a"},itemClass:{},linkClass:{},activeClass:{},disabledClass:{},route:{type:[Function,Boolean]}},{modelValue:{default:1},modelModifiers:{}}),emits:e.mergeModels(["page-click","pages-updated"],["update:modelValue"]),setup(n,{emit:E}){const o=n,f=e.useModel(n,"modelValue"),d=E;e.watch([f,()=>o.total,()=>o.perPage,()=>o.maxItems],t=>{d("pages-updated",...t)});const{pages:R}=b({total:()=>o.total,perPage:()=>o.perPage,currentPage:f,maxItems:()=>o.maxItems});function i(t){return o.route?o.route===!0?{query:{page:t.page}}:o.route(t):"javascript:void(0)"}function m(t,s){o.route||(f.value=s.page,d("page-click",t,s))}function k(t){return o.linkTag==="a"?{href:i(t)}:o.linkTag==="button"?{disabled:t.disabled}:{to:i(t),disabled:t.disabled}}return(t,s)=>(e.openBlock(),e.createElementBlock("div",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(R),r=>e.renderSlot(t.$slots,"page-item",e.mergeProps({key:`${r.type}-${r.page}`,ref_for:!0},{item:r,to:i(r)}),()=>[e.createElementVNode("div",{class:e.normalizeClass(t.itemClass)},[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(t.linkTag),e.mergeProps({ref_for:!0},k(r),{onClick:C=>m(C,r),class:[t.linkClass,[r.active?t.activeClass:null,r.disabled?t.disabledClass:null]]}),{default:e.withCtx(()=>[r.type===e.unref(a).FIRST?e.renderSlot(t.$slots,"first-icon",e.mergeProps({key:0,ref_for:!0},{item:r,to:i(r)}),()=>[s[0]||(s[0]=e.createElementVNode("span",null,"First",-1))]):r.type===e.unref(a).PREVIOUS?e.renderSlot(t.$slots,"previous-icon",e.mergeProps({key:1,ref_for:!0},{item:r,to:i(r)}),()=>[s[1]||(s[1]=e.createElementVNode("span",{"aria-hidden":"true"},"«",-1))]):r.type===e.unref(a).NEXT?e.renderSlot(t.$slots,"next-icon",e.mergeProps({key:2,ref_for:!0},{item:r,to:i(r)}),()=>[s[2]||(s[2]=e.createElementVNode("span",{"aria-hidden":"true"},"»",-1))]):r.type===e.unref(a).LAST?e.renderSlot(t.$slots,"last-icon",e.mergeProps({key:3,ref_for:!0},{item:r,to:i(r)}),()=>[s[3]||(s[3]=e.createElementVNode("span",null,"Last",-1))]):e.renderSlot(t.$slots,"page",e.mergeProps({key:4,ref_for:!0},{item:r,to:i(r)}),()=>[e.createTextVNode(e.toDisplayString(r.page),1)])]),_:2},1040,["onClick","class"]))],2)])),128))]))}})});
