(function(f,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],e):(f=typeof globalThis<"u"?globalThis:f||self,e(f.VuePagination={},f.Vue))})(this,function(f,e){"use strict";var s=(l=>(l.FIRST="first",l.PREVIOUS="previous",l.LOWER="lower",l.CURRENT="current",l.HIGHER="higher",l.NEXT="next",l.LAST="last",l))(s||{});function y(l={}){const k=E(l.total??0),n=E(l.perPage??0),u=E(l.currentPage??1),i=e.computed(()=>Math.ceil(k.value/n.value)),b=E(l.maxItems??5),d=e.ref(),C=e.ref(),P=e.ref([]),t=e.ref([]),o=e.ref(),a=e.ref(),h=e.ref(),N=e.computed(()=>[d.value,C.value,...P.value,h.value,...t.value,o.value,a.value].filter(r=>r!=null)),I=()=>{v(),console.log("re-compile",n.value,i.value),u.value>i.value&&!e.isReadonly(u)&&(u.value=i.value||1);const r=u.value;let p=b.value;p%2===0&&p++;const g=(p-1)/2,V=r-1;let S=Math.min(g,V);const T=i.value-r;let R=Math.min(g,T);r+g>i.value?S=Math.min(p-R-1,V):r-g<=0&&(R=Math.min(p-S-1,T));for(let m=r-S;m<r;m++)P.value.push(c(s.LOWER,m));C.value=c(s.PREVIOUS,r-1,{disabled:r===1}),d.value=c(s.FIRST,1,{disabled:r===1});for(let m=r+1;m<=R+r;m++)t.value.push(c(s.HIGHER,m));o.value=c(s.NEXT,r+1,{disabled:r===i.value}),a.value=c(s.LAST,i.value,{disabled:r===i.value}),h.value=c(s.CURRENT,r,{active:!0})};function c(r,p,g={}){return{type:r,page:p,active:g.active??!1,disabled:g.disabled??!1}}function v(){d.value=void 0,C.value=void 0,o.value=void 0,a.value=void 0,h.value=void 0,P.value=[],t.value=[]}return e.watchEffect(()=>{I()}),{compile:I,total:k,perPage:n,currentPage:u,pages:N,pagesCount:i,maxItems:b}}function E(l){return e.computed({get(){return e.toValue(l)},set(k){"value"in l?l.value=k:console.warn("This MaybeRefOrGetter is readonly!")}})}const M=e.defineComponent({__name:"VuePagination",props:e.mergeModels({total:{},perPage:{},maxItems:{default:5},linkTag:{default:"a"},itemClass:{},linkClass:{},activeClass:{},disabledClass:{},route:{type:[Function,Boolean]}},{modelValue:{default:1},modelModifiers:{}}),emits:e.mergeModels(["page-click","pages-updated","page-changed"],["update:modelValue"]),setup(l,{emit:k}){const n=l,u=e.useModel(l,"modelValue"),i=k;e.watch([u,()=>n.total,()=>n.perPage,()=>n.maxItems],t=>{i("pages-updated",...t)}),e.watch(u,()=>{i("page-changed",u.value)});const{pages:b}=y({total:()=>n.total,perPage:()=>n.perPage,currentPage:u,maxItems:()=>n.maxItems});function d(t){return n.route?n.route===!0?{query:{page:t.page}}:n.route(t):"javascript:void(0)"}function C(t,o){n.route||(u.value=o.page),i("page-click",t,o)}function P(t){return n.linkTag==="a"?{href:d(t)}:n.linkTag==="button"?{disabled:t.disabled}:{to:d(t),disabled:t.disabled}}return(t,o)=>(e.openBlock(),e.createElementBlock("div",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(b),a=>e.renderSlot(t.$slots,"page-item",e.mergeProps({key:`${a.type}-${a.page}`,ref_for:!0},{item:a,to:d(a)}),()=>[e.createElementVNode("div",{class:e.normalizeClass([a.active?t.activeClass:null,a.disabled?t.disabledClass:null,t.itemClass])},[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(t.linkTag),e.mergeProps({ref_for:!0},P(a),{onClick:h=>C(h,a),class:[a.active?t.activeClass:null,a.disabled?t.disabledClass:null,t.linkClass]}),{default:e.withCtx(()=>[a.type===e.unref(s).FIRST?e.renderSlot(t.$slots,"first-icon",e.mergeProps({key:0,ref_for:!0},{item:a,to:d(a)}),()=>[o[0]||(o[0]=e.createElementVNode("span",null,"First",-1))]):a.type===e.unref(s).PREVIOUS?e.renderSlot(t.$slots,"previous-icon",e.mergeProps({key:1,ref_for:!0},{item:a,to:d(a)}),()=>[o[1]||(o[1]=e.createElementVNode("span",{"aria-hidden":"true"},"«",-1))]):a.type===e.unref(s).NEXT?e.renderSlot(t.$slots,"next-icon",e.mergeProps({key:2,ref_for:!0},{item:a,to:d(a)}),()=>[o[2]||(o[2]=e.createElementVNode("span",{"aria-hidden":"true"},"»",-1))]):a.type===e.unref(s).LAST?e.renderSlot(t.$slots,"last-icon",e.mergeProps({key:3,ref_for:!0},{item:a,to:d(a)}),()=>[o[3]||(o[3]=e.createElementVNode("span",null,"Last",-1))]):e.renderSlot(t.$slots,"page",e.mergeProps({key:4,ref_for:!0},{item:a,to:d(a)}),()=>[e.createTextVNode(e.toDisplayString(a.page),1)])]),_:2},1040,["onClick","class"]))],2)])),128))]))}});f.PageType=s,f.default=M,f.usePagination=y,Object.defineProperties(f,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
